<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="UTF-8">

  <link rel="icon" href="" type="image/png" sizes="16x16"/>
  <link rel="canonical" href="samuuuh.github.io/resumos/PRI/PRI/pri" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="PRI - Information Processing and Retrieval1. Information processing">
  <meta property="og:site_name" content="Knowledge Tree">

  <link rel="stylesheet" href="/knowledge-tree/assets/css/main.css">

  
  <meta property="og:description" content="PRI - Information Processing and Retrieval1. Information processing"/>
  

  
  <meta property="og:title" content="Processamento e Recuperação de Informação">
  <meta property="og:type" content="article">
  

  
  <meta property="article:published_time" content="2022-02-19T13:44:00+00:00">
  <meta property="article:author" content="samuuuh.github.io/">
  

  <meta property="og:url" content="samuuuh.github.io/resumos/PRI/PRI/pri" />

  

  <title>
    
      Processamento e Recuperação de Informação &mdash; Knowledge Tree
    
  </title>
</head>

  
  <body>
    <nav>
    <div>
        <a class="header-title" href="/knowledge-tree/"><b>Knowledge Tree</b></a>
        <a class="header-link" href="/knowledge-tree/about">About</a>
        <a class="header-link" href="https://github.com/Samuuuh/knowledge-tree">Github</a>
    </div>
</nav>


    <main class="main-content">
      <article>
  <div>
    <h1>Processamento e Recuperação de Informação</h1>
    <time datetime="2022-02-19T13:43:06+00:00">
      Last updated on February 19, 2022
      
    </time>
  </div>

  <div id="notes-entry-container">
    <content>
      <h1 id="pri---information-processing-and-retrieval">PRI - Information Processing and Retrieval</h1>
<h2 id="1-information-processing"><strong>1. Information processing</strong></h2>

<h2 id="data-metadata-and-information">Data, metadata and information</h2>
<ul>
  <li><strong>Data:</strong> facts known by direct observation, measured on a specific scale.</li>
  <li><strong>Metadata:</strong> “data about data”, provides information about the data (date, author, format, version, permissions, etc.</li>
  <li><strong>Information:</strong> processed, structured and organised data with a context/meaning, which enables decision making.</li>
</ul>

<h2 id="information-life-cycle">Information Life Cycle</h2>
<ul>
  <li><strong>Occurrence:</strong> discovery, design or creation.</li>
  <li><strong>Transmission:</strong> access, retrieval, transmission and networking.</li>
  <li><strong>Processing and Management:</strong> collection, validation, modification, classification, filtering, sorting and storing.</li>
  <li><strong>Usage:</strong> monitoring, interpreting, planning, decision-making, learning, etc.</li>
</ul>

<h2 id="data-processing-patterns">Data Processing Patterns</h2>
<h3 id="etl">ETL</h3>
<ul>
  <li>Extract-Transform-Load Framework.</li>
  <li>Extract data from the source system, operate over the data and transform it, publish the data to the target system.</li>
  <li>Usually associated with classic centralised IT driven operations.</li>
</ul>

<h3 id="etlt">EtLT</h3>
<ul>
  <li>Extract-Load-Transform Framework.</li>
  <li>Introduces a transformation step before the loading, but loads before the full transformation.</li>
  <li>More well-suited for division of responsibilities in multidisciplinary teams.</li>
</ul>

<h3 id="osemn">OSEMN</h3>
<ul>
  <li>Obtain (gather data), Scrub (clear, arrange and prepare), Explore (visualize and experiment), Model (create a statistical model), Interpret (draw conclusions and evaluate).</li>
  <li>Usually represented in a linear model, but applied iteratively.</li>
</ul>

<h2 id="data-processing-challenges">Data Processing Challenges</h2>
<ul>
  <li>Diversity of data sources in various dimensions (ownership, interface, volume, cleanliness, validity, latency, etc.).</li>
  <li>Data quality problems (missing data, inconsistent values, precision problems, duplicate values, etc.).</li>
  <li>Data storage model choice (relational, document or graph).</li>
</ul>

<h2 id="challenges-and-techniques">Challenges and Techniques</h2>
<h3 id="data-cleaning">Data Cleaning:</h3>
<ul>
  <li>Challenges:
    <ul>
      <li>Identification and fixing of data quality issues;</li>
      <li>Reduction/Selection of data from the collection;</li>
    </ul>
  </li>
  <li>Techniques:
    <ul>
      <li>Outliers removal;</li>
      <li>Missing values substitution;</li>
      <li>Sampling of the collection.</li>
    </ul>
  </li>
</ul>

<h3 id="data-preparation">Data Preparation:</h3>
<ul>
  <li>Challenges:
    <ul>
      <li>Choice of data to use (choosing relevant data subsets and fields);</li>
      <li>Combination of multiple sources of data (linking the corresponding records);</li>
      <li>Adapt the results to a size and shape that enables follow-up steps.</li>
    </ul>
  </li>
  <li>Techniques:
    <ul>
      <li>Data transformation (transform data to improve analysis or manipulation);
        <ul>
          <li>Normalisation of values;</li>
          <li>Scaling values to the same range;</li>
          <li>Non-linear transformation to deal with skewed distributions;</li>
          <li>Discretisation or binning (transform continuous values into ordered and categorical ones).</li>
        </ul>
      </li>
      <li>Synthesis of data (derive new attributes from existing data);
        <ul>
          <li>Maximum, minimum, average values;</li>
          <li>Difference between two numerical attributes;</li>
          <li>Most important keywords/topics from a textual field.</li>
        </ul>
      </li>
      <li>Data integration (combine data from multiple sources).
        <ul>
          <li>Enrich individual records with data from external sources.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="data-presentation">Data Presentation:</h3>
<ul>
  <li>Challenges:
    <ul>
      <li>Visualisation of the data;</li>
      <li>Interpretation of the results obtained.</li>
    </ul>
  </li>
  <li>Techniques:
    <ul>
      <li>Exploratory visualisation of the data (to detect disparities, choose adequate methods, etc.);</li>
      <li>Plotting of descriptive statistics (to observe the application of methods and track the pipeline execution);</li>
      <li>Result evaluation (compare results between different pipeline executions).</li>
    </ul>
  </li>
</ul>

<h2 id="data-pipelines">Data pipelines</h2>
<h3 id="importance">Importance</h3>
<p>A reliable, scalable and maintainable pipeline is key to keep the data processing track (that transforms data from a source to a destination) simpler and more stable throughout different executions.</p>

<h3 id="makefiles">Makefiles</h3>
<p>Makefiles can be used to document and setup data pipelines, since they enable the definition of execution rules on specific targets, being useful to automate software build processes (such as data processing).</p>

<hr />

<h2 id="2-ir-tasks-and-systems"><strong>2. IR tasks and systems</strong></h2>
<h2 id="information-retrieval-vs-data-retrieval">Information Retrieval vs. Data Retrieval</h2>
<ul>
  <li><strong>Data Retrieval:</strong> Data Retrieval is the action of determining which documents of a certain collection explicitly contain the query keywords. It tries to provide a solution to a database user.</li>
  <li><strong>Information Retrieval:</strong> Information Retrieval is the attempt of satisfying a certain information need. It solves the problem of retrieving information about a subject or topic. Instead of looking for the presence of keywords, it searches for the presence of information that can answer the query.</li>
  <li><strong>Key difference:</strong> Failure in DR (retrieving a document that does not contain the keywords) means a total failure. In IR, a failure is defined against the information need.</li>
</ul>

<h2 id="examples">Examples</h2>
<ul>
  <li><strong>DR systems:</strong> Relational database.</li>
  <li><strong>IR systems:</strong> Google, Amazon, Bing, etc.</li>
</ul>

<h2 id="retrieval-tasks-evaluated-in-trec">Retrieval tasks evaluated in TREC</h2>
<ul>
  <li>TREC is organized into tracks, each of them providing a set of documents and queries.</li>
  <li>The participants have to build a system for the queries will be held against.</li>
  <li>They must submit their created system’s responses to that set of queries.</li>
  <li>These responses are then evaluated by the organisers.</li>
  <li>The details can vary from track to track and from year to year.</li>
</ul>

<h2 id="modules-of-an-ir-system">Modules of an IR system</h2>
<h3 id="crawling">Crawling</h3>
<p>If the document collection is available in the web, the first stage is for a web crawler to retrieve it.</p>

<h3 id="indexing">Indexing</h3>
<p>On this stage, he document collection retrieved is stored in the “central repository” (disk storage) and indexed (usually, an inverted index is created, composed of each word and a list of the documents that contain it).</p>

<h3 id="retrieval--ranking">Retrieval &amp; Ranking</h3>
<p>The retrieval process consists of determining which documents satisfy a user query. This query is parsed, expanded and processed against the index to retrieve a subset of documents, which are then ranked in terms of relevance (to the user, considering their query) and the top results are returned to the user.</p>

<hr />

<h2 id="3-ir-concepts"><strong>3. IR concepts</strong></h2>
<h2 id="concept-definition">Concept definition</h2>
<ul>
  <li><strong>Document:</strong> Unit of data of a retrieval system;</li>
  <li><strong>Collection:</strong> Set of documents over which a retrieval is performed;</li>
  <li><strong>Term:</strong> Each part of a document that can be indexed (usually words or phrases);</li>
  <li><strong>Bag of words:</strong> Description of the number of occurrences of words in a document, with no details about their order or structure;</li>
  <li><strong>Stemming:</strong> Replacing inflected or derived words with their radical word (stem);</li>
  <li><strong>Inverted Index:</strong> Table that relates a term to its postings list.</li>
  <li><strong>Vocabulary:</strong> Set of terms in a collection.</li>
  <li><strong>Postings list:</strong> List of documents containing a term.</li>
  <li><strong>Information need:</strong> Topic about which the user searches and wants to know more.</li>
  <li><strong>Query:</strong> What the user conveys to the system to communicate an information need.</li>
  <li><strong>Results list:</strong> List of documents returned by a specific retrieval.</li>
  <li><strong>Relevant result:</strong> Result that satisfies or has valuable information for the user’s information need.</li>
</ul>

<hr />

<h2 id="4-vector-model"><strong>4. Vector model</strong></h2>
<h2 id="concept-definition-1">Concept definition</h2>
<ul>
  <li><strong>Term Frequency (tf<sub>t,d</sub>):</strong> Number of occurrences of term <em>t</em> in document <em>d</em>.</li>
  <li><strong>Collection Frequency (cf):</strong> Number of occurrences of a term in a collection.</li>
  <li><strong>Document Frequency (df<sub>t</sub>):</strong> Number of documents in a collection that contain a term <em>t</em>.</li>
  <li><strong>Inverse Document Frequency (idf<sub>t</sub>):</strong> Measurement of the rarity of a term <em>t</em> (higher if <em>t</em> is rare).
    <ul>
      <li>idf<sub>t</sub> = log(N/df<sub>t</sub>),</li>
      <li>N being the number of documents in a collection.</li>
    </ul>
  </li>
</ul>

<h2 id="tf-idf-weight">Tf-idf weight</h2>
<h3 id="formula-tf-idftd--tftd-x-idft"><strong>Formula:</strong> tf-idf<sub>t,d</sub> = tf<sub>t,d</sub> x idf<sub>t</sub></h3>

<h3 id="concept"><strong>Concept:</strong></h3>
<ul>
  <li>Assign a weight to term <em>t</em> in document <em>d</em> for discrimination during the evaluation/ranking of results.</li>
  <li>The weight of term <em>t</em> is:
    <ul>
      <li>higher when <em>t</em> has many occurrences in very few documents;</li>
      <li>lower when <em>t</em> has few occurrences in <em>d</em> or occurs in many documents;</li>
      <li>lowest when <em>t</em> occurs in virtually all documents.</li>
    </ul>
  </li>
</ul>

<h2 id="document-ranking">Document ranking</h2>
<ul>
  <li>The rank of a document <em>d</em> against a query <em>q</em> according to the vector model is the sum of the weight of each of the terms of <em>q</em> that occur in <em>d</em>.</li>
  <li>Score<sub>(q,d)</sub> = $\sum_{t\ in\ q}$ tf-idf<sub>t,d</sub>.</li>
</ul>

<hr />

<h2 id="5-evaluation"><strong>5. Evaluation</strong></h2>
<h2 id="concept-definition-2">Concept definition</h2>
<ul>
  <li><strong>Precision:</strong> Percentage of documents in a results list that are relevant.</li>
  <li><strong>Recall:</strong> Percentage of the total relevant documents that were retrieved.</li>
  <li><strong>Interpolated Precision:</strong> Highest precision found for any recall level higher than a defined bound.</li>
  <li><strong>Precision at k:</strong> Percentage of results that are relevant on the first k for the query.</li>
  <li><strong>R-Precision:</strong> Precision at k, for k equal to the number of relevant results for the query.</li>
</ul>

<h2 id="test-collection-components">Test collection components</h2>
<ul>
  <li>Document collection;</li>
  <li>Test suite of information needs, expressible as queries;</li>
  <li>Set of relevance judgements, standardly a binary assessment of either <em>relevant</em> or <em>nonrelevant</em> for each query-document pair.</li>
</ul>

<h2 id="relevance-judgements">Relevance judgements</h2>
<h3 id="definition">Definition:</h3>
<p>A relevance judgement is a binary assessment of a document as <em>relevant</em> or <em>nonrelevant</em> against an information need from the user.</p>

<h3 id="ground-truth">Ground truth</h3>
<p>The relevance judgement decision is referred to as <em>ground truth</em>, meaning that it is the basis for the whole evaluation of the retrieval system. Having a set of human-judged query-document pairs (ground truth) is crucial for the evaluation of the accuracy of the system’s retrieval methods.</p>

<h2 id="average-11-point-precision-recall-graph">Average 11-point precision-recall graph</h2>
<ul>
  <li>For each of the 11 recall levels (0, 0.1, 0.2, …), the 11-point precision-recall graph calculates the mean of the interpolated precision at that recall for each query in the set.</li>
</ul>

<h2 id="map">MAP</h2>
<h3 id="definition-1">Definition</h3>
<ul>
  <li>Mean average precision consists of a measure that calculates the mean of the Average Precision (average of precision measured every time a relevant result is retrieved) of several information needs.</li>
  <li>For a single information need, the AP approximates the area under the uninterpolated precision-recall curve. The MAP is roughly the average area under the precision-recall curve for a set of queries.</li>
</ul>

<hr />

<h2 id="6-web-search"><strong>6. Web search</strong></h2>
<h2 id="types-of-information-needs">Types of information needs</h2>
<h3 id="informational-needs">Informational needs</h3>
<ul>
  <li>Search for general information on a topic.</li>
  <li>Typically requires gathering information from more than one web page.</li>
</ul>

<h3 id="transactional-needs">Transactional needs</h3>
<ul>
  <li>Attempt a transaction on the web.</li>
  <li>Can be a purchase, a download, a reservation, etc.</li>
</ul>

<h3 id="navigational-needs">Navigational needs</h3>
<ul>
  <li>Seek for the website or page of an entity.</li>
  <li>User has the expectation of finding a specific resource.</li>
</ul>

<h2 id="web-search-vs-enterprise-search">Web search vs enterprise search</h2>
<ul>
  <li>Web search users aren’t trained on how to write queries.</li>
  <li>In enterprise search, the users are professionals, and use keywords more wisely, as well as search operators.</li>
</ul>

<h2 id="indexing-images">Indexing images</h2>
<p>In concept-based image indexing, images are indexed by their anchor text, which usually includes information about their content.</p>

<h2 id="ranking-signals">Ranking signals</h2>
<p>Ranking signals fall into different groups:</p>
<ul>
  <li>Query-independent signals (static) - website date;</li>
  <li>Query-dependent signals (dynamic) - term frequency;</li>
  <li>Document-based signals (content or structural) - being HTML, PDF;</li>
  <li>Collection-based signals - number of in-links;</li>
  <li>User-based signals - number of clicks, browser used, OS used, location or date of the search.</li>
</ul>

<h2 id="bowtie-view">Bowtie view</h2>
<h3 id="scc">SCC</h3>
<p>The SCC (Strongly Connected Component) consists of a group of documents in the collection between which one can navigate and return freely using links.</p>

<h3 id="in-and-out">IN and OUT</h3>
<p>The bowtie view states that a user can pass from any node of IN through SCC to any node of OUT.</p>

<h3 id="tendrils-and-tubes">Tendrils and tubes</h3>
<p>Tendrils consist of nodes reachable from IN or that can reach OUT. Tubes are the connection of an IN tendril and an OUT tendril, without passing through the SCC.</p>

<hr />

<h2 id="7-link-analysis"><strong>7. Link analysis</strong></h2>
<h2 id="link-based-signals">Link-based Signals</h2>
<h3 id="in-links-and-out-links">In-links and out-links</h3>
<p>In-links are links from other pages to a given pages; out-links are links present in a given page that leads to another page, which represents an endorsement of the latter by the creator of the first.</p>

<h3 id="anchor-text-as-a-signal">Anchor text as a signal</h3>
<p>The anchor text (e.g. in links) in a page represents its creator’s description of the page to which it leads, which is an important feature for image search and is also incorporated as an additional feature in an inverted index.</p>

<h2 id="pagerank">PageRank</h2>
<p>The PageRank of a node is a value between 0 and 1, representing the probability of a random surfer to visit said note by choosing, at each step, a random out-link to move to the next page.</p>

<h2 id="hits---hyperlink-induced-topic-search">HITS - Hyperlink Induced Topic Search</h2>
<p>Query dependent algorithm that, starting with the answer set (e.g. pages containing the keywords), computes two scores for each page:</p>
<ul>
  <li><strong>Authority score:</strong> pages with many in-links are called authorities;</li>
  <li><strong>Hub score:</strong> pages with many out-links are called hubs.</li>
</ul>

<hr />

<h2 id="8-query-processing"><strong>8. Query processing</strong></h2>
<h2 id="main-processing-techniques">Main processing techniques</h2>
<h3 id="document-at-a-time">Document-at-a-time</h3>
<p>Calculate complete scores for documents, by processing all term lists, one document at a time. At the end, all documents are sorted according to their score.</p>

<h3 id="term-at-a-time">Term-at-a-time</h3>
<p>Accumulate scores for documents by processing term lists one at a time. When all terms are processed, the accumulators contain the final scores of all matching documents.</p>

<h2 id="optimisation">Optimisation</h2>
<h3 id="purpose">Purpose</h3>
<p>Query optimisation techniques allow the system to read less data from the index or process fewer documents, which is advantageous when using complex feature functions, to avoid scoring less useful documents, or when using simpler ones, to ignore as much inverted list data as possible.</p>

<h3 id="query-transformation">Query transformation</h3>
<p>Query transformation techniques (e.g. stopwords, stemming, spellchecks, suggestions) can be used to refine the search, in order to reduce the amount of data processed.</p>

<h3 id="query-expansion">Query expansion</h3>
<p>With query expansion techniques (e.g. use of synonyms and related words from a thesaurus, (pseudo) relevance feedback), users give additional input on query words or phrases.</p>

<h3 id="relevance-feedback">Relevance feedback</h3>
<p>The idea of relevance feedback is to consider user feedback about the initial set of results when improving the final set.</p>

<p>The user marks documents returned by the system as relevant or non-relevant and the system computes a better representation of the information, which is then displayed to the user.</p>

<p>Especially useful for image search, where it may be difficult to express a query in words.</p>

<h3 id="pseudo-relevance-feedback">Pseudo relevance feedback</h3>
<p>Users often expect single interactions in search and are reluctant to provide explicit feedback, which is why pseudo relevance feedback automates the manual part, assuming that the top k ranked documents are relevant.</p>

<h3 id="implicit-relevance-feedback">Implicit relevance feedback</h3>
<p>This technique uses indirect sources of evidence (e.g. clicks on links are assumed to indicate that the page was likely relevant for the query), which are less reliable than explicit, but more useful than pseudo relevance feedback.</p>

<hr />

<h2 id="9-entity-oriented-search"><strong>9. Entity-oriented search</strong></h2>
<h2 id="entity">Entity</h2>
<p>An entity is an uniquely identifiable thing or object (e.g. people, organisations, products, locations), characterised by its name, type, attributes and relationships to other entities.</p>

<h3 id="entity-oriented-search">Entity-oriented search</h3>
<p>EOS is the search paradigm of organising and accessing information centered around entities, their attributes and relationships.</p>

<p>From a user perspective, entities are natural units for organising information that offer a richer excperience than conventional document-based retrieval systems.</p>

<p>From a machine perspective, entities allow for a better understanding of search queries, document content and users, making search engines more effective.</p>

<h3 id="entity-description">Entity description</h3>
<p>An entity description, or profile document, is an object created for each entity, containing all the existing knowledge about that entity.</p>

<p>Entity descriptions can be indexed and ranked using existing document retrieval algorithms.</p>

<h3 id="entity-ranking">Entity ranking</h3>
<p>With the term-based entity representation, we can use the retrieval models from document ranking for entity scoring by using entities as documents. Most of the effort is put into constructing term-based representations of entities.</p>

<p>Unstructured entity representations with a bag-of-words model usually provide solid performance and a good starting point. Other approaches exist, such as the use of specific characteristics of entities, such as relationships.</p>

<h3 id="entity-linking">Entity linking</h3>
<p>Entity linking is the task of recognising entity mentions in text and linking them to the corresponding entries in a knowledge base.</p>
<ul>
  <li>Mention detection: identification of text snippets that can potentially be linked to entities;</li>
  <li>Candidate selection: generating a set of candidate entities for each mention;</li>
  <li>Disambiguation: selecting a single entity (or none) for each mention, based on the context.</li>
</ul>

<h2 id="data-sources">Data sources</h2>
<h3 id="knowledge-bases">Knowledge bases</h3>
<p>Knowledge bases organise information around entities, which can be seen as nodes in a graph, with relationships between them as edges.</p>

<p>When it focuses more on the relationships, the term knowledge graph is commonly used.</p>

<p>A standard way of describing entities is the Resource Description Framework (RDF), consisting of a subject (URI of a resource), a predicate (URI of a relationship or property of the subject) and an object (URI of another resource or literal).</p>

<h3 id="examples-1">Examples</h3>
<ul>
  <li>Public knowledge bases: DBpedia (extracted from Wikipedia), Wikidata (operated by the Wikimedia Foundation, considers claims - that must be supported by a reference and can contradict each other - instead of facts);</li>
  <li>Proprietary knowledge bases: Google Knowledge Graph, Facebook Entity Graph, Microsoft Satori.</li>
</ul>

<hr />

<h2 id="10-search-user-interfaces"><strong>10. Search user interfaces</strong></h2>
<h2 id="sui-techniques-and-elements">SUI techniques and elements</h2>
<h3 id="context">Context</h3>
<p>IR evolved to a both system- and user-centered view, with the observation that more specific queries improved the relevance of results, thus a SUI is necessary for users to interact with the system.</p>

<p>Multiple factors concur to the overall user experience:</p>
<ul>
  <li>Implemented algorithms;</li>
  <li>Existing metadata;</li>
  <li>Design and aesthetics of the UIs.</li>
</ul>

<h3 id="elements">Elements</h3>
<ul>
  <li><strong>Input:</strong> features that allow the searcher to express what they are looking for;</li>
  <li><strong>Control:</strong> features that help searchers modify, refine, restrict or expand their input;</li>
  <li><strong>Informational:</strong> features that provide results or information about them;</li>
  <li><strong>Personalisation:</strong> features that relate specifically to searchers and their previous interactions.</li>
</ul>

<h2 id="evaluation">Evaluation</h2>
<h3 id="ir-style">IR style</h3>
<p>Traditionally, IR systems are evaluated based on datasets, specific tasks, and known best results for each task (calculated by human experts).</p>

<p>Success was limited for this approach, since simple evaluation measures like precision and recall were not sufficient.</p>

<h3 id="empirical-user-studies">Empirical user studies</h3>
<p>Empirical methods are about observing and recording actual user performance (e.g. number of searches, terms per search, results visited, search times, task accuracy). Qualitative methods such as interviews and observations are also possible.</p>

<p>Designing and conducting user studies is hard, because results can be impacted by many factors (e.g. motivation of participants, software bugs) and even small user experience differences (e.g. slight differences in colors).</p>

<h3 id="analytical-approaches">Analytical approaches</h3>
<p>In analytical approaches, typically low-cost inspection methods are used by evaluators to assess a design.</p>

<p>There are many analytics methods for UI and UX (e.g. heuristic evaluation, cognitive walkthrough) but fewer specifically designed for SUI.</p>

<h3 id="choosing-an-evaluation-approach">Choosing an evaluation approach</h3>
<p>DECIDE process:</p>
<ul>
  <li><strong>D</strong>etermine the goals of the evaluation;</li>
  <li><strong>E</strong>xplore the specific questions to be answered;</li>
  <li><strong>C</strong>hoose an evaluation paradigm;</li>
  <li><strong>I</strong>dentify practical issues in performing such an evaluation;</li>
  <li><strong>D</strong>ecide how to deal with any ethical issues;</li>
  <li><strong>E</strong>valuate, interpret and present data.</li>
</ul>

<h2 id="design-principles-and-heuristics">Design principles and heuristics</h2>
<ol>
  <li>Visibility: keep the user informed of what is happening;</li>
  <li>Language: adopt language that the user can understand;</li>
  <li>Control and freedom: do not block users in a hole or fixed pathway, instead provide mechanisms for users to recover from them;</li>
  <li>Consistency: adopt a consistent design;</li>
  <li>Error prevention: make it hard to do unproductive things (i.e. avoid the need to undo actions);</li>
  <li>Support recognitions: help users not have to remember what they have done or need to do;</li>
  <li>Flexibility and efficiency: provide features for experienced users to be more productive and efficient;</li>
  <li>Aesthetics and minimalism: keep design simple and minimalist;</li>
  <li>Clear error messages: provide informative and useful error messages;</li>
  <li>Help and documentation: provide help as documentation, FAQs and examples.</li>
</ol>

<hr />

<h1 id="exercises-manning">Exercises Manning</h1>
<h2 id="chapter-6">Chapter 6:</h2>
<h3 id="68"><strong>6.8.)</strong></h3>
<p>The number of documents (<em>N</em>) is always finite and the document frequency (<em>df<sub>t</sub></em>) is always a natural number (for any term that exists in the collection), so the result of log(N/df<sub>t</sub>) is always finite.</p>

<h3 id="69"><strong>6.9.)</strong></h3>
<p>The idf of a term that occurs in every document is log(1) = 0, so the word is ignored for weighing factors. The same happens with words put in the stopword list.</p>

<h3 id="610"><strong>6.10.)</strong></h3>
<ul>
  <li>tf-idf<sub>car,doc1</sub> = 1.65*27 = 44.55</li>
  <li>tf-idf<sub>car,doc2</sub> = 1.65*4 = 6.6</li>
  <li>tf-idf<sub>car,doc3</sub> = 1.65*24 = 39.6</li>
  <li>tf-idf<sub>auto,doc1</sub> = 2.08*3 = 6.24</li>
  <li>tf-idf<sub>auto,doc2</sub> = 2.08*33 = 68.64</li>
  <li>tf-idf<sub>auto,doc3</sub> = 2.08*0 = 0</li>
  <li>tf-idf<sub>insurance,doc1</sub> = 1.62*0 = 0</li>
  <li>tf-idf<sub>insurance,doc2</sub> = 1.62*33 = 53.46</li>
  <li>tf-idf<sub>insurance,doc3</sub> = 1.62*29 = 46.98</li>
  <li>tf-idf<sub>best,doc1</sub> = 1.5*14 = 21</li>
  <li>tf-idf<sub>best,doc2</sub> = 1.5*0 = 0</li>
  <li>tf-idf<sub>best,doc3</sub> = 1.5*17 = 25.5</li>
</ul>

<h3 id="615"><strong>6.15.)</strong></h3>
<p>Unnormalised:</p>
<ul>
  <li>doc1 = [44.55, 6.24, 0, 21]</li>
  <li>doc2 = [6.6, 68.64, 53.46, 0]</li>
  <li>doc3 = [39.6, 0, 46.98, 25.5]</li>
</ul>

<p>Normalised:</p>
<ul>
  <li>doc1 = [0.897, 0.126, 0, 0.423]</li>
  <li>doc2 = [0.076, 0.787, 0.613, 0]</li>
  <li>doc3 = [0.595, 0, 0.706, 0.383]</li>
</ul>

<h3 id="616"><strong>6.16.)</strong></h3>
<p>They all equal 1, since we are normalising the Euclidean distance, making the length of the vector equal to 1.</p>

<h3 id="617"><strong>6.17.)</strong></h3>
<p><strong>i)</strong> The query vector is q1 = [1, 0, 1, 0].
score<sub>(q1,doc1)</sub> = 0.897 + 0 = 0.897
score<sub>(q1,doc2)</sub> = 0.076 + 0.613 = 0.689
score<sub>(q1,doc3)</sub> = 0.595 + 0.706 = 1.301
The ranking would be doc3 &gt; doc1 &gt; doc2.</p>

<p><strong>i)</strong> The query vector is q2 = [1.65, 2.08, 1.62, 1.5] / ||q2|| = [0.478, 0.602, 0.469, 0.434].
score<sub>(q2,doc1)</sub> = (0.478<em>0.897) + (0.6024*0.126) + (0.434*0.423) = 0.688
score<sub>(q2,doc2)</sub> = (0.478</em>0.076) + (0.6024*0.787) + (0.469*0.613) = 0.798
score<sub>(q2,doc3)</sub> = (0.478*0.595) + (0.469*0.706) + (0.434*0.383) = 0.782
The ranking would be doc2 &gt; doc3 &gt; doc1.</p>

<h2 id="chapter-8">Chapter 8:</h2>
<h3 id="81">8.1.)</h3>
<p>Precision = 8 / 18 = 0.444
Recall = 8 / 20 = 0.4</p>

<h3 id="84">8.4.)</h3>
<p>At a recall level of 0, the interpolated precision is the highest that it can be for a higher recall level, so it can be between 0 and 1.</p>

<h3 id="88">8.8.)</h3>
<p>a) MAP<sub>1</sub> = AP<sub>1</sub> = (1 + 2/3 + 1/3 + 2/5)/4 = 3/5 = 0.6
MAP<sub>2</sub> = AP<sub>2</sub> = (1/2 + 2/5 + 1/2 + 4/7)/4 = 69/140 = 0.493
1 has a higher MAP.</p>

<p>b) It makes sense intuitively, since the relevant results in 1 are in the first places of the list. To get a good MAP, the first positions should have more relevant documents.</p>

<p>c) R-P<sub>1</sub> = 2/4 = 0.5
R-P<sub>2</sub> = 1/4 = 0.25
1 has a higher R-P, as well as MAP.</p>

<h3 id="89">8.9.)</h3>
<p>a) 6/20 = 0.3</p>

<p>b) 2*0.3*(6/8) / (0.3+(6/8)) = 0.45/1.05 = 0.429</p>

<p>c) 100%</p>

<p>d) Max(3/9, 4/11, 5/15, 6/20) = 4/11 = 0.364</p>

<p>e) MAP = AP = (1 + 1 + 1/3 + 4/11 + 1/3 + 3/10)/6 = 0.555</p>

<p>f) MAP = AP = (1 + 1 + 1/3 + 4/11 + 1/3 + 3/10 + 7/21 + 8/22)/8 = 0.503</p>

<p>g) MAP = AP = (1 + 1 + 1/3 + 4/11 + 1/3 + 3/10 + 7/9999 + 8/10000)/8 = 0.416</p>

<p>h) 0.555 - 0.416 = 0.139</p>

    </content>

    <side style="font-size: 0.9em">
      <div class="notes">
        <h3 style="margin-bottom: 1em">Notes mentioning this note</h3>
        
        <div style="display: grid; grid-gap: 1em; grid-template-columns: repeat(1fr);">
        
          <div class="backlink-box">
          <a class="internal-link" href="/knowledge-tree/index/index">Content List</a><br>
          <div style="font-size: 0.9em">Starting Point</div>
          </div>
        
        </div>
        
      </div>
      <div class="graph-viz">
        <h3 style="margin-bottom: 1em">Graph Visualization</h3>
        <style>
  .links line {
    stroke: #ccc;
    opacity: 0.5;
  }

  .nodes circle {
    cursor: pointer;
    fill: #8b88e6;
    transition: all 0.15s ease-out;
  }

  .text text {
    cursor: pointer;
    fill: #333;
    text-shadow: -1px -1px 0 #fafafabb, 1px -1px 0 #fafafabb, -1px 1px 0 #fafafabb, 1px 1px 0 #fafafabb;
  }

  .nodes [active],
  .text [active] {
    cursor: pointer;
    fill: black;
  }

  .inactive {
    opacity: 0.1;
    transition: all 0.15s ease-out;
  }

  #graph-wrapper {
    background: #fcfcfc;
    border-radius: 4px;
    height: auto;
  }
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.16.0/d3.min.js"
  integrity="sha512-FHsFVKQ/T1KWJDGSbrUhTJyS1ph3eRrxI228ND0EGaEp6v4a/vGwPWd3Dtd/+9cI7ccofZvl/wulICEurHN1pg=="
  crossorigin="anonymous"></script>

<div id="graph-wrapper">
  <script>
    const MINIMAL_NODE_SIZE = 8;
    const MAX_NODE_SIZE = 12;
    const ACTIVE_RADIUS_FACTOR = 1.5;
    const STROKE = 1;
    const FONT_SIZE = 16;
    const TICKS = 200;
    const FONT_BASELINE = 40;
    const MAX_LABEL_LENGTH = 50;

    const graphData = {"edges":[{"source":"503179796958532336743230207621597515898","target":"1422108377848304020"},{"source":"100072086790617209837265","target":"38041"},{"source":"103841823815487875","target":"27613844020"},{"source":"240589227765099673052794226274910629357","target":"2402776049557"},{"source":"240589227765099673052794226274910629357","target":"81676889533246026119639"},{"source":"240589227765099673052794226274910629357","target":"105853271995781485577129644"},{"source":"240589227765099673052794226274910629357","target":"18206486889979855229696720616166476532701018412"},{"source":"240589227765099673052794226274910629357","target":"19548904114439035294623638491398769279229399"},{"source":"240589227765099673052794226274910629357","target":"7853092808745256997741119377796504708"},{"source":"240589227765099673052794226274910629357","target":"2782927863386519"},{"source":"240589227765099673052794226274910629357","target":"7850043983027514073448502100"},{"source":"240589227765099673052794226274910629357","target":"3241122110819881232318764"},{"source":"240589227765099673052794226274910629357","target":"5495051139013699250083799"},{"source":"240589227765099673052794226274910629357","target":"65443548425971875856684"},{"source":"240589227765099673052794226274910629357","target":"6421157057681797349145782253"},{"source":"46378530244815725","target":"240589227765099673052794226274910629357"},{"source":"774714518649319842117578546054867522169132704794","target":"103841823815487875"},{"source":"774714518649319842117578546054867522169132704794","target":"1680077656773453826"},{"source":"774714518649319842117578546054867522169132704794","target":"447698746565831359475675571306886394"},{"source":"774714518649319842117578546054867522169132704794","target":"1851849395087745244631"},{"source":"774714518649319842117578546054867522169132704794","target":"174414388749633151336036"},{"source":"774714518649319842117578546054867522169132704794","target":"3896682460950866925"},{"source":"46378530244815725","target":"774714518649319842117578546054867522169132704794"},{"source":"774714518649319842117578546054867522169132704794","target":"71684638065172"},{"source":"46378530244815725","target":"1632202199179734376687545757396595518803233444679072"},{"source":"50183515407140165401415593961866212395148222461086","target":"297117087099758275271869396"},{"source":"50183515407140165401415593961866212395148222461086","target":"143768490085477247"},{"source":"50183515407140165401415593961866212395148222461086","target":"2119742351888060458029509408534670102650"},{"source":"50183515407140165401415593961866212395148222461086","target":"49670930463710165929681420635052"},{"source":"50183515407140165401415593961866212395148222461086","target":"8377370676197544955211194395789671980339971808048"},{"source":"50183515407140165401415593961866212395148222461086","target":"5500055021409855647479244329548649272482"},{"source":"50183515407140165401415593961866212395148222461086","target":"133540821863415617892879786549633158"},{"source":"50183515407140165401415593961866212395148222461086","target":"1516445552606797852005007732405178305066454090157728370000968386"},{"source":"46378530244815725","target":"50183515407140165401415593961866212395148222461086"}],"nodes":[{"id":"93602086757531175064909553","path":"/knowledge-tree/conceitos/Algorithms/Breath%20First%20Search/breath-first-search","label":"Breath first search"},{"id":"2964338397953191999125233","path":"/knowledge-tree/conceitos/Algorithms/Depth%20First%20Search/depth-first-search","label":"Depth first search"},{"id":"63022295962788201453","path":"/knowledge-tree/conceitos/Databases/Data%20Retrieval/data-retrieval","label":"Data retrieval"},{"id":"6925473830595409991896469767149","path":"/knowledge-tree/conceitos/Databases/Information%20Retrieval/information-retrieval","label":"Information retrieval"},{"id":"39788157","path":"/knowledge-tree/conceitos/Databases/NoSQL/nosql","label":"Nosql"},{"id":"37245","path":"/knowledge-tree/conceitos/Databases/SQL/sql","label":"Sql"},{"id":"1422108377848304020","path":"/knowledge-tree/conceitos/Networks/Asynchronous/asynchronous","label":"Asynchronous"},{"id":"33773422613162","path":"/knowledge-tree/conceitos/Networks/Byzantine/byzantine","label":"Byzantine"},{"id":"1248953862480574","path":"/knowledge-tree/conceitos/Networks/CAP%20Theorem/cap-theorem","label":"Cap theorem"},{"id":"595361","path":"/knowledge-tree/conceitos/Networks/CRDT/crdt","label":"Crdt"},{"id":"20980633","path":"/knowledge-tree/conceitos/Networks/Chord/chord","label":"Chord"},{"id":"180758507946934573733853352570660","path":"/knowledge-tree/conceitos/Networks/Distributed%20Hash%20Tables/distributed-hash-tables","label":"Distributed hash tables"},{"id":"196617406559747521982777238352564","path":"/knowledge-tree/conceitos/Networks/Epidemic%20Broadcat%20Trees/epidemic-broadcat-trees","label":"Epidemic broadcat trees"},{"id":"118364582846116905859515843","path":"/knowledge-tree/conceitos/Networks/Event-driven%20Server/event-driven-server","label":"Event Driven server"},{"id":"100072086790617209837265","path":"/knowledge-tree/conceitos/Networks/Gangster%20Paradox/gangster-paradox","label":"Gangster paradox"},{"id":"1305755994574","path":"/knowledge-tree/conceitos/Networks/Gnutella/gnutella","label":"Gnutella"},{"id":"28147445","path":"/knowledge-tree/conceitos/Networks/Graph/graph","label":"Graph"},{"id":"5346763475629440007514921644","path":"/knowledge-tree/conceitos/Networks/Interval%20Tree%20Clocks/interval-tree-clocks","label":"Interval tree clocks"},{"id":"1589861734498","path":"/knowledge-tree/conceitos/Networks/Kademlia/kademlia","label":"Kademlia"},{"id":"132141122442877141061782","path":"/knowledge-tree/conceitos/Networks/Linearizability/linearizability","label":"Linearizability"},{"id":"6417667107358961591817717861","path":"/knowledge-tree/conceitos/Networks/Media%20Access%20Control/media-access-control","label":"Media access control"},{"id":"23476356606711367982773281694029108615542100","path":"/knowledge-tree/conceitos/Networks/Message%20Authentication%20Code%20(MAC)/message-authentication-code-mac","label":"Message authentication code (mac)"},{"id":"503179796958532336743230207621597515898","path":"/knowledge-tree/conceitos/Networks/Message%20Oriented%20Middleware/message-oriented-middleware","label":"Message oriented middleware"},{"id":"11266535818559391234661965445002205","path":"/knowledge-tree/conceitos/Networks/Network%20Time%20Protocol%20(NTP)/network-time-protocol-ntp","label":"Network time protocol (ntp)"},{"id":"44825854","path":"/knowledge-tree/conceitos/Networks/Qorum/qorum","label":"Qorum"},{"id":"35904","path":"/knowledge-tree/conceitos/Networks/RPC/rpc","label":"Rpc"},{"id":"136004183879632219828","path":"/knowledge-tree/conceitos/Networks/Spanning%20Trees/spanning-trees","label":"Spanning trees"},{"id":"105891339425632660","path":"/knowledge-tree/conceitos/Networks/Synchronous/synchronous","label":"Synchronous"},{"id":"38041","path":"/knowledge-tree/conceitos/Networks/TCP/tcp","label":"Tcp"},{"id":"64200629008","path":"/knowledge-tree/conceitos/Networks/Threads/threads","label":"Threads"},{"id":"39373","path":"/knowledge-tree/conceitos/Networks/UDP/udp","label":"Udp"},{"id":"4132761509213563564","path":"/knowledge-tree/conceitos/Networks/Vector%20Clocks/vector-clocks","label":"Vector clocks"},{"id":"27613844020","path":"/knowledge-tree/conceitos/Web/Cookies/cookies","label":"Cookies"},{"id":"10321053344592847707750121767318446802220","path":"/knowledge-tree/conceitos/Web/Cross-Origin%20Resource%20Sharing/cross-origin-resource-sharing","label":"Cross Origin resource sharing"},{"id":"221215993544965438794685914937440718","path":"/knowledge-tree/conceitos/Web/Cross-Site%20Request%20Forgery/cross-site-request-forgery","label":"Cross Site request forgery"},{"id":"3483726243430623321687796","path":"/knowledge-tree/conceitos/Web/Frames%20and%20iFrames/frames-and-iframes","label":"Frames and iframes"},{"id":"1397113493381","path":"/knowledge-tree/conceitos/Web/HTTP%20Auth/http-auth","label":"Http auth"},{"id":"6255301569195718647962674","path":"/knowledge-tree/conceitos/Web/Same-Origin%20Policy/same-origin-policy","label":"Same Origin policy"},{"id":"6280954365573304766971756","path":"/knowledge-tree/conceitos/Web/Session%20Hijacking/session-hijacking","label":"Session hijacking"},{"id":"43804","path":"/knowledge-tree/conceitos/Web/XSS/xss","label":"Xss"},{"id":"46378530244815725","path":"/knowledge-tree/index/index","label":"Content List"},{"id":"2402776049557","path":"/knowledge-tree/resumos/AC/1.1.%20Introdution/1-1-introdution","label":"Untitled"},{"id":"81676889533246026119639","path":"/knowledge-tree/resumos/AC/1.2.%20Data%20Preparation/1-2-data-preparation","label":"Data Preparation"},{"id":"105853271995781485577129644","path":"/knowledge-tree/resumos/AC/1.3.%20Data%20Understanding/1-3-data-understanding","label":"Data Understanding"},{"id":"391640284630317801447218589253556416661780951","path":"/knowledge-tree/resumos/AC/1.4.%20Advanced%20Topics%20-%20Data%20Preparation/1-4-advanced-topics-data-preparation","label":"Advanced Topics - Data Preparation"},{"id":"18206486889979855229696720616166476532701018412","path":"/knowledge-tree/resumos/AC/2.1.%20Descriptive%20Analytics%20+%20Clustering/2-1-descriptive-analytics-clustering","label":"Descriptive Analytics + Clustering"},{"id":"210690132241943189195520856119340","path":"/knowledge-tree/resumos/AC/2.2.%20Frequent%20Pattern%20Mining%20-%20Association%20Rules/2-2-frequent-pattern-mining-association-rules","label":"Frequent Pattern Mining"},{"id":"19548904114439035294623638491398769279229399","path":"/knowledge-tree/resumos/AC/3.1.%20Introduction%20to%20Classification/3-1-introduction-to-classification","label":"Introduction to Classification"},{"id":"7853092808745256997741119377796504708","path":"/knowledge-tree/resumos/AC/3.2.%20Classification%20Algorithms/3-2-classification-algorithms","label":"Classification ALgorithms"},{"id":"2782927863386519","path":"/knowledge-tree/resumos/AC/3.3.%20Regression/3-3-regression","label":"Regression"},{"id":"7850043983027514073448502100","path":"/knowledge-tree/resumos/AC/3.4.%20Introduction%20to%20Recommender%20Systems/3-4-introduction-to-recommender-systems","label":"Recommender Systems"},{"id":"3241122110819881232318764","path":"/knowledge-tree/resumos/AC/3.5.%20Ensemble%20Learning/3-5-ensemble-learning","label":"Ensemble Learning"},{"id":"5495051139013699250083799","path":"/knowledge-tree/resumos/AC/4.1.%20Outlier%20Detection/4-1-outlier-detection","label":"Outlier Detection"},{"id":"65443548425971875856684","path":"/knowledge-tree/resumos/AC/4.2.%20ANN%20+%20Introduction%20to%20Deep%20Learning/4-2-ann-introduction-to-deep-learning","label":"ANN + Deep Learning"},{"id":"6421157057681797349145782253","path":"/knowledge-tree/resumos/AC/4.3.%20Metalearning%20&%20AutoML/4-3-metalearning-automl","label":"Metalearning & AutoML"},{"id":"240589227765099673052794226274910629357","path":"/knowledge-tree/resumos/AC/AC/ac","label":"Aprendizagem Computacional"},{"id":"103841823815487875","path":"/knowledge-tree/resumos/FSI/1.%20Web/1-web","label":"Segurança Web"},{"id":"1680077656773453826","path":"/knowledge-tree/resumos/FSI/2.%20Criptografia/2-criptografia","label":"Criptografia"},{"id":"447698746565831359475675571306886394","path":"/knowledge-tree/resumos/FSI/3.%20PK%20Infrastructure/3-pk-infrastructure","label":"Public-Key Infrastructure"},{"id":"1851849395087745244631","path":"/knowledge-tree/resumos/FSI/4.%20Authentication/4-authentication","label":"Authentication"},{"id":"174414388749633151336036","path":"/knowledge-tree/resumos/FSI/5.%20Redes/5-redes","label":"Segurança de Redes"},{"id":"3896682460950866925","path":"/knowledge-tree/resumos/FSI/6.%20TLS/6-tls","label":"TLS and Signal"},{"id":"774714518649319842117578546054867522169132704794","path":"/knowledge-tree/resumos/FSI/FSI/fsi","label":"Fundamentos de Segurança Informática"},{"id":"71684638065172","path":"/knowledge-tree/resumos/FSI/Perguntas%20FSI/perguntas-fsi","label":"Perguntas"},{"id":"1632202199179734376687545757396595518803233444679072","path":"/knowledge-tree/resumos/PRI/PRI/pri","label":"Processamento e Recuperação de Informação"},{"id":"1385730979894442211642858409180597843489748945","path":"/knowledge-tree/resumos/SDLE/10.%20Quorum%20Consensus%20Replicated%20ADT/10-quorum-consensus-replicated-adt","label":"10. quorum consensus replicated adt"},{"id":"297117087099758275271869396","path":"/knowledge-tree/resumos/SDLE/11.%20Byzantine%20Quorums/11-byzantine-quorums","label":"11. byzantine quorums"},{"id":"2452250852148947176341154290704886726148708359198638","path":"/knowledge-tree/resumos/SDLE/12.%20Practical%20Byzantine%20Fault-Tolerance/12-practical-byzantine-fault-tolerance","label":"12. practical byzantine fault Tolerance"},{"id":"143768490085477247","path":"/knowledge-tree/resumos/SDLE/13.%20Blockchain/13-blockchain","label":"13. blockchain"},{"id":"2119742351888060458029509408534670102650","path":"/knowledge-tree/resumos/SDLE/2.%20Message%20Oriented%20Middleware/2-message-oriented-middleware","label":"2. message oriented middleware"},{"id":"49670930463710165929681420635052","path":"/knowledge-tree/resumos/SDLE/3.%20Processing%20and%20Scaling/3-processing-and-scaling","label":"3. processing and scaling"},{"id":"8377370676197544955211194395789671980339971808048","path":"/knowledge-tree/resumos/SDLE/4.%20Replication%20and%20Consistency%20Models/4-replication-and-consistency-models","label":"4. replication and consistency models"},{"id":"7856802203877937602475915419792883785110654260","path":"/knowledge-tree/resumos/SDLE/5.%20Scalable%20Distributed%20Topologies/5-scalable-distributed-topologies","label":"5. scalable distributed topologies"},{"id":"5500055021409855647479244329548649272482","path":"/knowledge-tree/resumos/SDLE/6.%20System%20Design%20for%20Large%20Scale/6-system-design-for-large-scale","label":"6. system design for large scale"},{"id":"133540821863415617892879786549633158","path":"/knowledge-tree/resumos/SDLE/7.%20Physical%20and%20Logical%20Time/7-physical-and-logical-time","label":"7. physical and logical time"},{"id":"1516445552606797852005007732405178305066454090157728370000968386","path":"/knowledge-tree/resumos/SDLE/8.%20High%20Availability%20under%20Eventual%20Consistency/8-high-availability-under-eventual-consistency","label":"8. high availability under eventual consistency"},{"id":"77564326098429129869107156","path":"/knowledge-tree/resumos/SDLE/9.%20Quorums%20Consensus/9-quorums-consensus","label":"9. quorums consensus"},{"id":"50183515407140165401415593961866212395148222461086","path":"/knowledge-tree/resumos/SDLE/SDLE/sdle","label":"Sistemas Distribuídos em Larga Escala"}]}
    let nodesData = graphData.nodes;
    let linksData = graphData.edges;

    const nodeSize = {};

    const updateNodeSize = () => {
      nodesData.forEach((el) => {
        let weight =
          3 *
          Math.sqrt(
            linksData.filter((l) => l.source.id === el.id || l.target.id === el.id)
              .length + 1
          );
        if (weight < MINIMAL_NODE_SIZE) {
          weight = MINIMAL_NODE_SIZE;
        } else if (weight > MAX_NODE_SIZE) {
          weight = MAX_NODE_SIZE;
        }
        nodeSize[el.id] = weight;
      });
    };

    const onClick = (d) => {
      window.location = d.path
    };

    const onMouseover = function (d) {
      const relatedNodesSet = new Set();
      linksData
        .filter((n) => n.target.id == d.id || n.source.id == d.id)
        .forEach((n) => {
          relatedNodesSet.add(n.target.id);
          relatedNodesSet.add(n.source.id);
        });

      node.attr("class", (node_d) => {
        if (node_d.id !== d.id && !relatedNodesSet.has(node_d.id)) {
          return "inactive";
        }
        return "";
      });

      link.attr("class", (link_d) => {
        if (link_d.source.id !== d.id && link_d.target.id !== d.id) {
          return "inactive";
        }
        return "";
      });

      link.attr("stroke-width", (link_d) => {
        if (link_d.source.id === d.id || link_d.target.id === d.id) {
          return STROKE * 4;
        }
        return STROKE;
      });
      text.attr("class", (text_d) => {
        if (text_d.id !== d.id && !relatedNodesSet.has(text_d.id)) {
          return "inactive";
        }
        return "";
      });
    };

    const onMouseout = function (d) {
      node.attr("class", "");
      link.attr("class", "");
      text.attr("class", "");
      link.attr("stroke-width", STROKE);
    };

    const sameNodes = (previous, next) => {
      if (next.length !== previous.length) {
        return false;
      }

      const map = new Map();
      for (const node of previous) {
        map.set(node.id, node.label);
      }

      for (const node of next) {
        const found = map.get(node.id);
        if (!found || found !== node.title) {
          return false;
        }
      }

      return true;
    };

    const sameEdges = (previous, next) => {
      if (next.length !== previous.length) {
        return false;
      }

      const set = new Set();
      for (const edge of previous) {
        set.add(`${edge.source.id}-${edge.target.id}`);
      }

      for (const edge of next) {
        if (!set.has(`${edge.source.id}-${edge.target.id}`)) {
          return false;
        }
      }

      return true;
    };

    const graphWrapper = document.getElementById('graph-wrapper')
    const element = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    element.setAttribute("width", graphWrapper.getBoundingClientRect().width);
    element.setAttribute("height", window.innerHeight * 0.8);
    graphWrapper.appendChild(element);

    const reportWindowSize = () => {
      element.setAttribute("width", window.innerWidth);
      element.setAttribute("height", window.innerHeight);
    };

    window.onresize = reportWindowSize;

    const svg = d3.select("svg");
    const width = Number(svg.attr("width"));
    const height = Number(svg.attr("height"));
    let zoomLevel = 1;

    const simulation = d3
      .forceSimulation(nodesData)
      .force("forceX", d3.forceX().x(width / 2))
      .force("forceY", d3.forceY().y(height / 2))
      .force("charge", d3.forceManyBody())
      .force(
        "link",
        d3
          .forceLink(linksData)
          .id((d) => d.id)
          .distance(70)
      )
      .force("center", d3.forceCenter(width / 2, height / 2))
      .force("collision", d3.forceCollide().radius(80))
      .stop();

    const g = svg.append("g");
    let link = g.append("g").attr("class", "links").selectAll(".link");
    let node = g.append("g").attr("class", "nodes").selectAll(".node");
    let text = g.append("g").attr("class", "text").selectAll(".text");

    const resize = () => {
      if (d3.event) {
        const scale = d3.event.transform;
        zoomLevel = scale.k;
        g.attr("transform", scale);
      }

      const zoomOrKeep = (value) => (zoomLevel >= 1 ? value / zoomLevel : value);

      const font = Math.max(Math.round(zoomOrKeep(FONT_SIZE)), 1);

      text.attr("font-size", (d) => font);
      text.attr("y", (d) => d.y - zoomOrKeep(FONT_BASELINE) + 8);
      link.attr("stroke-width", zoomOrKeep(STROKE));
      node.attr("r", (d) => {
        return zoomOrKeep(nodeSize[d.id]);
      });
      svg
        .selectAll("circle")
        .filter((_d, i, nodes) => d3.select(nodes[i]).attr("active"))
        .attr("r", (d) => zoomOrKeep(ACTIVE_RADIUS_FACTOR * nodeSize[d.id]));
    };

    const ticked = () => {
      node.attr("cx", (d) => d.x).attr("cy", (d) => d.y);
      text
        .attr("x", (d) => d.x)
        .attr("y", (d) => d.y - (FONT_BASELINE - nodeSize[d.id]) / zoomLevel);
      link
        .attr("x1", (d) => d.source.x)
        .attr("y1", (d) => d.source.y)
        .attr("x2", (d) => d.target.x)
        .attr("y2", (d) => d.target.y);
    };

    const restart = () => {
      updateNodeSize();
      node = node.data(nodesData, (d) => d.id);
      node.exit().remove();
      node = node
        .enter()
        .append("circle")
        .attr("r", (d) => {
          return nodeSize[d.id];
        })
        .on("click", onClick)
        .on("mouseover", onMouseover)
        .on("mouseout", onMouseout)
        .merge(node);

      link = link.data(linksData, (d) => `${d.source.id}-${d.target.id}`);
      link.exit().remove();
      link = link.enter().append("line").attr("stroke-width", STROKE).merge(link);

      text = text.data(nodesData, (d) => d.label);
      text.exit().remove();
      text = text
        .enter()
        .append("text")
        .text((d) => shorten(d.label.replace(/_*/g, ""), MAX_LABEL_LENGTH))
        .attr("font-size", `${FONT_SIZE}px`)
        .attr("text-anchor", "middle")
        .attr("alignment-baseline", "central")
        .on("click", onClick)
        .on("mouseover", onMouseover)
        .on("mouseout", onMouseout)
        .merge(text);

      node.attr("active", (d) => isCurrentPath(d.path) ? true : null);
      text.attr("active", (d) => isCurrentPath(d.path) ? true : null);

      simulation.nodes(nodesData);
      simulation.force("link").links(linksData);
      simulation.alpha(1).restart();
      simulation.stop();

      for (let i = 0; i < TICKS; i++) {
        simulation.tick();
      }

      ticked();
    };

    const zoomHandler = d3.zoom().scaleExtent([0.2, 3]).on("zoom", resize);

    zoomHandler(svg);
    restart();

    function isCurrentPath(notePath) {
      return window.location.pathname.includes(notePath)
    }

    function shorten(str, maxLen, separator = ' ') {
      if (str.length <= maxLen) return str;
      return str.substr(0, str.lastIndexOf(separator, maxLen)) + '...';
    }
  </script>
</div>

      </div>
    </side>
  </div>
</article>
    </main>

    <footer>
      <p style="text-align: center;">Wow, you just found a wild footer!</p>

    </footer>
  </body>
</html>
